## 1-1 ~ 1-3

### 情報セキュリティの要素

- 機密性
- 完全性
- 可用性

このあたりは情報セキュリティ担当時代にくさるほどみたので割愛

リスクとコストのバランス

- 当たり前だがそもそもリスクは0にならないので、コストとバランスをとりましょうって話
- よくあることだがセキュリティは利益を生まないし、面倒になるので敬遠されがち
- ISMSでも経営層の参画を呼びかけている
  - https://www.ashisuto.co.jp/security_blog/article/201911-isms.html

### リスク

リスクとはなんぞやって話

　情報資産 + 脅威 + 脆弱性

が３つ揃って初めて驚異になるという話

- 家の中に大量の現金がある（情報資産)
- 盗む泥棒（脅威）がいないとそのままで大丈夫だし
- 泥棒がいても家に入れない強固な対策（脆弱性がない）があれば盗まれない

脆弱性がコントロール（潰し）やすいため、この辺をちゃんと潰しましょうという話

- 物理的脆弱性
  - サーバー室の鍵が空いているとか、誰でも入れるとか
  - 火事に弱い建物であったり
- 技術的脆弱性
  - ミドルウェアやアプリケーションの脆弱性
- 人的脆弱性
  - リテラシーの低い社員など

## 1.4 ~ 1.5

1.4 攻撃者

- 政治的な意図を持って攻撃する活動をハクティビズムという
  - する人をハクティビスト
- スクリプトキディ
  - 攻撃ツールをただ使うことしかできず、改変できない人

内部不正の特徴

- 正当なアクセス権限を持っているので対策が難しい


1.5 情報収集と共有

脆弱性情報を集めるデータベース

- JVN
  - 日本最大JPCERTとIPAが共同で管理
- CVE
  - アメリカの非営利組織が運営
  - 各組織が出した情報について、一位のIDを降って識別できるようにする

脆弱性情報の標準化

- CVSS
  - 共通脆弱性評価システム
  - 脆弱性の重要度を評価するための指標

- CWE
  - 脆弱性タイプ一覧
  - 脆弱性の種類などを表すためのもの

- J-CSIP
  - 重要インフラを集めて相互に情報共有したり。IPAのとりくみ

## 1.6 ~ 1.7

1.7 不正アクセス

- システムを利用するものがその与えられた権限によって許された以上の行為をネットワークを介して意図的に行うことを不正アクセスと呼ぶ
  - 刑法では十分に抑止・罰することができなかったので不正アクセス禁止法ができた
  - ネットワークを通じてのアクセス　がポイント
- 不正アクセスの方法
  - ネットワークスキャン
    - 考えられるあらゆるIPアドレスにpingを実施
    - pingに応答しないステルスモードでコンピューターを稼働させる

```
# AWSなら素直にセキュリティグループでポートを閉じていればOK
# linux機器でfirewalldを使っているなら単純にこのコマンドでOK
firewall-cmd --set-target=DROP --permanent
```

- ポートスキャン
  - 実は種類がある
  - TCPスキャン
    - 3ハンドシェイクを行う。検出が比較的用意。
  - SYNスキャン
    - 3ハンドシェイクのうち、SYNだけを送信
    - ハーフオープンスキャンと呼ばれる
  - FINスキャン
    - TCPの通信終了要求であるFINを送信する
    - ポートが閉じていたらRSTが返信されて状態がわかる
    - ステルススキャンにできる
  - NULLスキャン
    - TCPのフラグを全てNULLにして送信
    - ステルススキャンにできる
  - 対策
    - 必要ないポートを閉じる

```
# nmapの場合
# 上記に挙げたTCPのスキャン各種に対応するモードがある様子
# https://ja.wikipedia.org/wiki/Nmap
# helpで調べると以下オプションが出てくる
SCAN TECHNIQUES:
  -sS/sT/sA/sW/sM: TCP SYN/Connect()/ACK/Window/Maimon scans
  -sU: UDP Scan
  -sN/sF/sX: TCP Null, FIN, and Xmas scans
  --scanflags <flags>: Customize TCP scan flags
  -sI <zombie host[:probeport]>: Idle scan
  -sY/sZ: SCTP INIT/COOKIE-ECHO scans
  -sO: IP protocol scan
  -b <FTP relay host>: FTP bounce scan
# 例えば finスキャンをする場合
sudo nmap -sF 127.0.0.1
# nullスキャン
sudo nmap -sn 127.0.0.1
```

## 1.8 ~

バッファオーバーフロー攻撃

![バッファオーバーフロー攻撃](/images/buffer_overflow.png)

- リターンアドレスの位置に悪意のあるコードのアドレスを差し込んで悪意のあるコードを実行させる
- 対策
  - プログラマが行える対策
    - メモリ領域が足りない場合は自動的に領域を確保するよう配慮された関数を利用するなど
    - 危険な関数を使わない
  - そもそもさせないために
    - DEP(データ実行防止機能)
      - データ領域でコードを実行するから↑の攻撃が起こる
      - データ領域でのコードの実行を防止する
    - アドレス空間配置ランダム化
      - メモリに整然と領域を確保していると推測されやすい
      - ランダム配置すれば攻撃がしにくくなる

1.9 パスワード奪取

- ブルートフォースアタック(総当たり攻撃)
- 逆ブロートフォースアタック
  - 簡単なパスワードのまま、ユーザーを変えていく
  - 脆弱なパスワードを使っているユーザーが１人いれば、乗っ取れる
  - 1回ずつ試すのでアカウントロックもされない
- レインボーテーブル攻撃
  - パスワードは大体ハッシュ化されて保存されている
  - そのためあらかじめよくあるハッシュ方法で、よくあるパスワードをハッシュかしておく
  - ハッシュ化されたパスワードと比較することで、平文のパスワードを入手できる可能性がある